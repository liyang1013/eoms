<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.keboda.eomsback.system.mapper.HrmResourceMapper">

    <select id="selectByDepartCode" resultType="com.keboda.eomsback.system.pojo.HrmResource">
        select r.subcompanyid1,company.subcompanyname centre,workcode,lastname name,departmentid,
               dep.departmentname depname
        from HrmResource r
                 left join HrmSubCompany company on r.subcompanyid1 = company.id
                 left join HrmDepartment dep on  dep.id  = departmentid
        where departmentcode like '${code}%'
        order by departmentname,workcode
    </select>
</mapper>